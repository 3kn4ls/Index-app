<div class="app-container">
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <!-- Back Button (solo visible en viewer) -->
      @if (isViewerRoute()) {
        <button class="back-button" (click)="goBack()">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 12H5M5 12l7 7M5 12l7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Volver</span>
        </button>
      }

      <!-- Logo Section -->
      <div class="logo-section" [class.with-back]="isViewerRoute()">
        <div class="logo-icon">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="3" y="3" width="8" height="8" rx="2" fill="currentColor"/>
            <rect x="3" y="13" width="8" height="8" rx="2" fill="currentColor"/>
            <rect x="13" y="3" width="8" height="8" rx="2" fill="currentColor"/>
            <rect x="13" y="13" width="8" height="8" rx="2" fill="currentColor"/>
          </svg>
        </div>
        <h1 class="logo-text">App Index</h1>
      </div>

      <!-- Search Bar (solo visible en home) -->
      @if (!isViewerRoute()) {
        <div class="search-container">
          <div class="search-box">
            <svg class="search-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
              <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <input
              type="text"
              class="search-input"
              placeholder="Buscar aplicaciones por nombre, código o categoría..."
              [value]="searchQuery()"
              (input)="onSearchInput($event)"
            />
            @if (searchQuery()) {
              <button class="clear-button" (click)="searchQuery.set(''); onSearch()">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
              </button>
            }
          </div>
        </div>
      }
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <router-outlet />
  </main>
</div>
